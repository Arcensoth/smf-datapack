# smf:module/list

function smf:module/installed
function smf:module/version

# print active version if installed
execute if score $installed smf_temp matches 1.. if score $vdev smf_temp matches ..0 run tellraw @a[tag=smf.admin] [{"text":"[SMF]", "color": "aqua"}, {"text": " Module ", "color": "white"}, {"text": "v", "color": "yellow", "extra": [{"score": {"name": "$vmajor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vminor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vpatch", "objective": "smf_temp"}}]}, {"text": " is active.", "color": "white"}, {"text": "  [Reinstall]", "color": "yellow", "hoverEvent": {"action": "show_text", "value": {"text": "Reinstall", "color": "yellow"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/reinstall"}}, {"text": "  [Uninstall]", "color": "red", "hoverEvent": {"action": "show_text", "value": {"text": "Uninstall", "color": "red"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/uninstall"}}]
execute if score $installed smf_temp matches 1.. if score $vdev smf_temp matches 1.. run tellraw @a[tag=smf.admin] [{"text":"[SMF]", "color": "aqua"}, {"text": " Module ", "color": "white"}, {"text": "v", "color": "yellow", "extra": [{"score": {"name": "$vmajor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vminor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vpatch", "objective": "smf_temp"}}]}, {"text": "-dev", "color": "gold", "extra": [{"score": {"name": "$vdev", "objective": "smf_temp"}}]}, {"text": " is active.", "color": "white"}, {"text": "  [Reinstall]", "color": "yellow", "hoverEvent": {"action": "show_text", "value": {"text": "Reinstall", "color": "yellow"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/reinstall"}}, {"text": "  [Uninstall]", "color": "red", "hoverEvent": {"action": "show_text", "value": {"text": "Uninstall", "color": "red"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/uninstall"}}]

# warn if active but not installed
execute if score $installed smf_temp matches ..0 if score $vdev smf_temp matches ..0 run tellraw @a[tag=smf.admin] [{"text":"[SMF]", "color": "aqua"}, {"text": " Module ", "color": "red"}, {"text": "v", "color": "yellow", "extra": [{"score": {"name": "$vmajor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vminor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vpatch", "objective": "smf_temp"}}]}, {"text": " is active but not installed.", "color": "red"}, {"text": "  [Install]", "color": "green", "hoverEvent": {"action": "show_text", "value": {"text": "Install", "color": "green"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/autoinstall"}}]
execute if score $installed smf_temp matches ..0 if score $vdev smf_temp matches 1.. run tellraw @a[tag=smf.admin] [{"text":"[SMF]", "color": "aqua"}, {"text": " Module ", "color": "red"}, {"text": "v", "color": "yellow", "extra": [{"score": {"name": "$vmajor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vminor", "objective": "smf_temp"}}, {"text": "."}, {"score": {"name": "$vpatch", "objective": "smf_temp"}}]}, {"text": "-dev", "color": "gold", "extra": [{"score": {"name": "$vdev", "objective": "smf_temp"}}]}, {"text": " is active but not installed.", "color": "red"}, {"text": "  [Install]", "color": "green", "hoverEvent": {"action": "show_text", "value": {"text": "Install", "color": "green"}}, "clickEvent": {"action": "run_command", "value": "/function smf:module/autoinstall"}}]

# {"text": "-dev", "color": "gold", "extra": [{"score": {"name": "$vdev", "objective": "smf_temp"}}]}
